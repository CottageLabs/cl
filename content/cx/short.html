

<div class="container-fluid" style="max-width:1000px;margin-top:0px;">
  <div class="row">
    <div class="col-md-6">
      <img src="http://static.cottagelabs.com/cottagelabslogo.png" style="width:100%;">
      <h2>URL shortenizer</h2>
      <h3>(Like bit.ly but ctg.li)</h3>
      <h3>
        You want a short URL?<br>We get you short URL!
      </h3>
      
      <p>Just provide the URL of any article that you want, and an optional preferred shortname, and we'll check for you.</p>
    </div>
    
    <div class="col-md-6">
      <div class="well">
        <p>
          https://ctg.li/ 
          <input id="url" type="text" class="form-control" placeholder="Your URL here">
          <input id="address" type="text" class="form-control" placeholder="Your shortname here">
          <a id="shorten" class="btn btn-default btn-block" href="https://cx.ctg.li/">Shorten it!</a>
        </p>
      </div>
      
      <div id="conf">
        
      </div>
    </div>
  </div>
</div>

<script>
jQuery(document).ready(function() {
  var shorten = function() {
    $('#conf').html("");
    var target = $('#url').val();
    if (target) {
      var address = $('#address').val();
      var url = 'https://api.cottagelabs.com/shortlink';
      if (address) url += '/' + address;
      $.ajax({
        type:'POST',
        url:url,
        success: function(data) {
          var conf = '<div class="well">';
          conf += '<p>Your shortlink has been created, and your link is:<br>';
          conf += '<a target="_blank" href="' + data + '">' + data + '</a><br></p>';
          conf += '</div>';
          $('#conf').html(conf);
        },
        error: function() {
          var conf = '<div class="well">';
          conf += '<p>Sorry, the shortname you wanted is not available. Please try again with another, or leave it blank to get a random one.</p>'
          conf += '</div>';
          $('#conf').html(conf);          
        }
      });
    } else {
      alert('Please provide a URL for your short link to redirect to first.');
    }
  }
  $('#shorten').bind('click',shorten);
});
</script>